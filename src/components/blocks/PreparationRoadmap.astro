---
const steps = [
  {
    title: "PrvnÃ­ setkÃ¡nÃ­ a plÃ¡novÃ¡nÃ­",
    description: "ÃšvodnÃ­ diskuse nad vaÅ¡imi plÃ¡ny. Pokud jeÅ¡tÄ› nemÃ¡te projekt, rÃ¡di vÃ¡m s nÃ­m pomÅ¯Å¾eme a navrhneme optimÃ¡lnÃ­ Å™eÅ¡enÃ­ pro vÃ¡Å¡ budoucÃ­ domov.",
    icon: "ğŸ¤"
  },
  {
    title: "RozpoÄet, harmonogram a financovÃ¡nÃ­",
    description: "DetailnÃ­ projednÃ¡nÃ­ rozpoÄtu a ÄasovÃ©ho plÃ¡nu. FinancovÃ¡nÃ­ je rozdÄ›leno do 5 fÃ¡zÃ­: 20% zÃ¡lohy aÅ¾ po dokonÄenÃ­ pÅ™Ã­sluÅ¡nÃ½ch etap vÃ½stavby. NeplatÃ­te nic pÅ™edem.",
    icon: "ğŸ“Š"
  },
  {
    title: "Podpis smlouvy a garance",
    description: "Smlouva jasnÄ› definuje rozsah pracÃ­ a termÃ­ny. Je to vaÅ¡e pojista, Å¾e pÅ™esnÄ› dodrÅ¾Ã­me plÃ¡n, materiÃ¡ly i dohodnutou cenu.",
    icon: "ğŸ“"
  },
  {
    title: "ZahÃ¡jenÃ­ stavby",
    description: "Startujeme projekt. Do tÃ© doby neplatÃ­te nic. PrvnÃ­ fakturace probÄ›hne aÅ¾ po dokonÄenÃ­ 20% stavby.",
    icon: "ğŸ—ï¸"
  },
  {
    title: "1. Platba - ZÃ¡klady a deska (20%)",
    description: "PrvnÃ­ etapa hotova. MÃ¡me vybetonovanÃ© zÃ¡klady a zÃ¡kladovou desku. HradÃ­te prvnÃ­ ÄÃ¡st ceny (20%).",
    icon: "kb-foundation" // Placeholder for visual styling consistency
  },
  {
    title: "2. Platba - HrubÃ¡ stavba (40%)",
    description: "HrubÃ¡ stavba roste. MÃ¡me vyzdÄ›nÃ© obvodovÃ© i vnitÅ™nÃ­ zdivo. HradÃ­te druhou ÄÃ¡st (dosaÅ¾eno 40% rozestavÄ›nosti).",
    icon: "ğŸ§±"
  },
  {
    title: "3. Platba - StÅ™echa (60%)",
    description: "DÅ¯m je pod stÅ™echou. Krov, krytina a klempÃ­Å™skÃ© prvky jsou hotovÃ©. HradÃ­te tÅ™etÃ­ ÄÃ¡st (dosaÅ¾eno 60% rozestavÄ›nosti).",
    icon: "ğŸ "
  },
  {
    title: "4. Platba - OmÃ­tky a instalace (80%)",
    description: "DÅ¯m dostÃ¡vÃ¡ tvÃ¡Å™. Jsou hotovÃ© omÃ­tky, rozvody a dalÅ¡Ã­ prÃ¡ce. HradÃ­te Ätvrtou ÄÃ¡st (dosaÅ¾eno 80% rozestavÄ›nosti).",
    icon: "ğŸ’¡"
  },
  {
    title: "5. Platba - DokonÄenÃ­ a finÃ¡le (100%)",
    description: "Stavba je kompletnÄ› dokonÄena a pÅ™ipravena. ProbÃ­hÃ¡ finÃ¡lnÃ­ kontrola a doplatek zbÃ½vajÃ­cÃ­ ÄÃ¡sti ceny.",
    icon: "âœ…"
  },
  {
    title: "PÅ™edÃ¡nÃ­ stavby",
    description: "VÃ¡Å¡ novÃ½ domov je pÅ™ipraven. PÅ™edÃ¡vÃ¡me vÃ¡m klÃ­Äe a veÅ¡kerou dokumentaci. VÃ­tejte doma!",
    icon: "ğŸ”‘"
  }
];
---

<section class="py-20 bg-gray-50 overflow-hidden" id="pruvodce-stavbou">
  <div class="container mx-auto px-4">
    <div class="text-center mb-16">
      <h2 class="text-4xl md:text-5xl font-bold text-gray-900 mb-4">
        PrÅ¯vodce stavbou
      </h2>
      <p class="text-xl text-gray-600 max-w-2xl mx-auto">
        Od prvnÃ­ schÅ¯zky aÅ¾ po pÅ™edÃ¡nÃ­ klÃ­ÄÅ¯. PodÃ­vejte se, jak vypadÃ¡ naÅ¡e spoleÄnÃ¡ cesta k vaÅ¡emu novÃ©mu domovu.
      </p>
    </div>

    <div class="relative max-w-5xl mx-auto">
      <!-- Vertical line -->
      <div class="absolute left-4 md:left-1/2 top-0 bottom-0 w-1 bg-primary/20 md:-translate-x-1/2 rounded-full"></div>

      <div class="relative space-y-12 md:space-y-0">
        {steps.map((step, index) => (
          <div class={`relative md:flex items-center ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
            
            <!-- Turn point / Dot on the line -->
            <div class="absolute left-4 md:left-1/2 w-4 h-4 rounded-full bg-primary border-4 border-white shadow-md transform -translate-x-1/2 mt-6 md:mt-0 z-10 transition-transform duration-300 group-hover:scale-150"></div>

            <!-- Spacer for the other side on desktop -->
            <div class="hidden md:block md:w-1/2"></div>
            
            <!-- Content Card -->
            <div class={`ml-12 md:ml-0 md:w-1/2 ${index % 2 === 0 ? 'md:pl-16' : 'md:pr-16'}`}>
              <div class={`group relative bg-white p-6 rounded-2xl ${index % 2 === 0 ? 'md:mr-[15px]' : 'md:ml-[15px]'} shadow-sm border border-gray-100 hover:shadow-xl hover:border-primary/30 transition-all duration-300 overflow-hidden cursor-default`}>
                
                <!-- Header (Always visible) -->
                <div class="relative z-10 mb-2">
                  <div class="text-sm text-gray-500 mb-1">
                    Krok {index + 1}
                  </div>
                  <h3 class="text-xl font-bold text-gray-900 group-hover:text-primary transition-colors">
                    {step.title}
                  </h3>
                </div>

                <!-- Description (Hidden initially, expands on hover) -->
                <div class="grid grid-rows-[0fr] group-hover:grid-rows-[1fr] transition-[grid-template-rows] duration-500 ease-in-out">
                  <div class="overflow-hidden">
                    <p class="text-gray-600 pt-2 leading-relaxed opacity-0 group-hover:opacity-100 transition-opacity duration-500 delay-100">
                      {step.description}
                    </p>
                  </div>
                </div>

                <!-- Decorative gradients -->
                <div class="absolute inset-0 bg-gradient-to-r from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
              </div>
            </div>

          </div>
        ))}
      </div>
    </div>
  </div>
</section>
